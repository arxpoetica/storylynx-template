<div class:show class="zoom">
	<!-- {zoomopen} -->
	<div class="close h6" on:click={() => zoomopen = false}>
		<div class="svg">
			<Close/>
		</div>
		Close
	</div>
	<div class="window">
		<div class="pan" style="width:{width}rem;height:{height}rem;">
			<LazyImg {src} {alt} {width} {height}/>
		</div>
	</div>
</div>

<script>
	import { onMount, onDestroy } from 'svelte'
	import Close from '@johnny/svg/icon-close.svelte'
	import LazyImg from '@johnny/svelte/LazyImg.svelte'

	export let zoomopen = false
	let show = false
	onMount(() => setTimeout(() => show = true, 0))
	// onDestroy(() => show = false)

	export let src
	export let alt = 'No information present about this image.'
	export let width = 100
	export let height = 100
</script>

<style type="text/scss">
	.zoom {
		display: flex;
		position: fixed;
		top: 0;
		right: 0;
		left: 0;
		bottom: 0;
		padding: 65rem;
		background-color: rgba(255, 255, 255, 0.8);
		opacity: 0;
		transition: opacity 1s ease-in-out;
		&.show {
			opacity: 1;
		}
	}
	.close {
		display: flex;
		align-items: center;
		position: absolute;
		top: 25rem;
		left: 25rem;
	}
	.svg {
		width: 21rem;
		height: 21rem;
		margin-right: 6rem;
	}
	.window {
		overflow: hidden;
		width: 100%;
		background-color: white;
		border: 10rem solid white;
		box-shadow: 0 0 2rem rgba(0, 0, 0, 0.1);
	}
</style>
